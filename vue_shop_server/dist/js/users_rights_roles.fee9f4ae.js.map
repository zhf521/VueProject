{"version":3,"file":"js/users_rights_roles.fee9f4ae.js","mappings":"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","sources":["webpack://vue-shop/./src/components/power/Rights.vue","webpack://vue-shop/src/components/power/Rights.vue","webpack://vue-shop/./src/components/power/Rights.vue?19eb","webpack://vue-shop/./src/components/power/Rights.vue?122c","webpack://vue-shop/./src/components/power/Roles.vue","webpack://vue-shop/src/components/power/Roles.vue","webpack://vue-shop/./src/components/power/Roles.vue?fd0e","webpack://vue-shop/./src/components/power/Roles.vue?a0df","webpack://vue-shop/./src/components/user/Users.vue","webpack://vue-shop/src/components/user/Users.vue","webpack://vue-shop/./src/components/user/Users.vue?939f","webpack://vue-shop/./src/components/user/Users.vue?a8d0"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"权限管理\")]),_c('el-breadcrumb-item',[_vm._v(\"权限列表\")])],1),_c('el-card',[_c('el-table',{attrs:{\"data\":_vm.rightsList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"权限名称\",\"prop\":\"authName\"}}),_c('el-table-column',{attrs:{\"label\":\"路径\",\"prop\":\"path\"}}),_c('el-table-column',{attrs:{\"label\":\"权限等级\",\"prop\":\"level\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.level === '0')?_c('el-tag',[_vm._v(\"一级\")]):(scope.row.level === '1')?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"二级\")]):_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"三级\")])]}}])})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 面包屑导航区域 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>权限列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <!-- 卡片视图 -->\r\n    <el-card>\r\n      <el-table :data=\"rightsList\" border stripe>\r\n        <el-table-column type=\"index\"></el-table-column>\r\n        <el-table-column label=\"权限名称\" prop=\"authName\"></el-table-column>\r\n        <el-table-column label=\"路径\" prop=\"path\"></el-table-column>\r\n        <el-table-column label=\"权限等级\" prop=\"level\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag v-if=\"scope.row.level === '0'\">一级</el-tag>\r\n            <el-tag type=\"success\" v-else-if=\"scope.row.level === '1'\">二级</el-tag>\r\n            <el-tag type=\"warning\" v-else>三级</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      //权限列表\r\n      rightsList: []\r\n    }\r\n  },\r\n  created() {\r\n    //获取所有的权限\r\n    this.getRightsList()\r\n  },\r\n  methods: {\r\n    //获取权限列表\r\n    async getRightsList() {\r\n      const { data: res } = await this.$http.get('rights/list')\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('获取权限列表失败！')\r\n      }\r\n      this.rightsList = res.data\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped></style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Rights.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Rights.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Rights.vue?vue&type=template&id=9acb436e&scoped=true&\"\nimport script from \"./Rights.vue?vue&type=script&lang=js&\"\nexport * from \"./Rights.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9acb436e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"权限管理\")]),_c('el-breadcrumb-item',[_vm._v(\"角色列表\")])],1),_c('el-card',[_c('el-row',[_c('el-col',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"添加角色\")])],1)],1),_c('el-row',[_c('el-table',{attrs:{\"data\":_vm.roleList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.children),function(item1,i1){return _c('el-row',{key:item1.id,class:['bdbottom', i1 === 0 ? 'bdtop' : '', 'vcenter']},[_c('el-col',{attrs:{\"span\":5}},[_c('el-tag',{attrs:{\"closable\":\"\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row, item1.id)}}},[_vm._v(_vm._s(item1.authName))]),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_c('el-col',{attrs:{\"span\":19}},_vm._l((item1.children),function(item2,i2){return _c('el-row',{key:item2.id,class:[i2 === 0 ? '' : 'bdtop', 'vcenter']},[_c('el-col',{attrs:{\"span\":6}},[_c('el-tag',{attrs:{\"type\":\"success\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row, item2.id)}}},[_vm._v(\" \"+_vm._s(item2.authName))]),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_c('el-col',{attrs:{\"span\":18}},_vm._l((item2.children),function(item3){return _c('el-tag',{key:item3.id,attrs:{\"type\":\"warning\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row, item3.id)}}},[_vm._v(_vm._s(item3.authName))])}),1)],1)}),1)],1)})}}])}),_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}}),_c('el-table-column',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.removeRoleById(scope.row.id)}}},[_vm._v(\"删除\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"waring\",\"icon\":\"el-icon-setting\"},on:{\"click\":function($event){return _vm.showSetRightDialog(scope.row)}}},[_vm._v(\"分配权限\")])]}}])})],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"分配权限\",\"visible\":_vm.setRightDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.setRightDialogVisible=$event},\"close\":_vm.setRightDialogClosed}},[_c('el-tree',{ref:\"treeRef\",attrs:{\"data\":_vm.rightsList,\"props\":_vm.treeProps,\"show-checkbox\":\"\",\"node-key\":\"id\",\"default-expand-all\":\"\",\"default-checked-keys\":_vm.defKeys}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRightDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.allotRights}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加角色\",\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}},[_c('el-input',{model:{value:(_vm.addForm.roleName),callback:function ($$v) {_vm.$set(_vm.addForm, \"roleName\", $$v)},expression:\"addForm.roleName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}},[_c('el-input',{model:{value:(_vm.addForm.roleDesc),callback:function ($$v) {_vm.$set(_vm.addForm, \"roleDesc\", $$v)},expression:\"addForm.roleDesc\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addRole}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改角色\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.addFormRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}},[_c('el-input',{model:{value:(_vm.editForm.roleName),callback:function ($$v) {_vm.$set(_vm.editForm, \"roleName\", $$v)},expression:\"editForm.roleName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}},[_c('el-input',{model:{value:(_vm.editForm.roleDesc),callback:function ($$v) {_vm.$set(_vm.editForm, \"roleDesc\", $$v)},expression:\"editForm.roleDesc\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editRoleInfo}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 面包屑导航区域 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>角色列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图 -->\r\n    <el-card>\r\n      <!-- 添加角色按钮区域 -->\r\n      <el-row>\r\n        <el-col>\r\n          <el-button type=\"primary\" @click=\"addDialogVisible = true\">添加角色</el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <!-- 角色列表区域 -->\r\n        <el-table :data=\"roleList\" border stripe>\r\n          <!-- 展开列 -->\r\n          <el-table-column type=\"expand\">\r\n            <template slot-scope=\"scope\">\r\n              <el-row :class=\"['bdbottom', i1 === 0 ? 'bdtop' : '', 'vcenter']\" v-for=\"(item1, i1) in scope.row.children\"\r\n                :key=\"item1.id\">\r\n                <!-- 渲染一级权限 -->\r\n                <el-col :span=\"5\">\r\n                  <el-tag closable @close=\"removeRightById(scope.row, item1.id)\">{{ item1.authName }}</el-tag>\r\n                  <i class=\"el-icon-caret-right\"></i>\r\n                </el-col>\r\n                <!-- 渲染二级和三级权限 -->\r\n                <el-col :span=\"19\">\r\n                  <!-- 通过for循环嵌套渲染二级权限 -->\r\n                  <el-row :class=\"[i2 === 0 ? '' : 'bdtop', 'vcenter']\" v-for=\"(item2, i2) in item1.children\"\r\n                    :key=\"item2.id\">\r\n                    <el-col :span=\"6\">\r\n                      <el-tag type=\"success\" closable @close=\"removeRightById(scope.row, item2.id)\"> {{ item2.authName\r\n                      }}</el-tag>\r\n                      <i class=\"el-icon-caret-right\"></i>\r\n                    </el-col>\r\n                    <el-col :span=\"18\">\r\n                      <el-tag type=\"warning\" v-for=\"(item3) in item2.children\" :key=\"item3.id\" closable\r\n                        @close=\"removeRightById(scope.row, item3.id)\">{{ item3.authName\r\n                        }}</el-tag>\r\n                    </el-col>\r\n                  </el-row>\r\n                </el-col>\r\n              </el-row>\r\n            </template>\r\n          </el-table-column>\r\n          <!-- 索引列 -->\r\n          <el-table-column type=\"index\"></el-table-column>\r\n          <el-table-column label=\"角色名称\" prop=\"roleName\"></el-table-column>\r\n          <el-table-column label=\"角色描述\" prop=\"roleDesc\"></el-table-column>\r\n          <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-edit\"\r\n                @click=\"showEditDialog(scope.row.id)\">编辑</el-button>\r\n              <el-button size=\"mini\" type=\"danger\" icon=\"el-icon-delete\"\r\n                @click=\"removeRoleById(scope.row.id)\">删除</el-button>\r\n              <el-button size=\"mini\" type=\"waring\" icon=\"el-icon-setting\"\r\n                @click=\"showSetRightDialog(scope.row)\">分配权限</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-row>\r\n    </el-card>\r\n    <!-- 分配权限的对话框 -->\r\n    <el-dialog title=\"分配权限\" :visible.sync=\"setRightDialogVisible\" width=\"50%\" @close=\"setRightDialogClosed\">\r\n      <!-- 树形控件 -->\r\n      <el-tree :data=\"rightsList\" :props=\"treeProps\" show-checkbox node-key=\"id\" default-expand-all\r\n        :default-checked-keys=\"defKeys\" ref=\"treeRef\"></el-tree>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"setRightDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"allotRights\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 添加角色的对话框 -->\r\n    <el-dialog title=\"添加角色\" :visible.sync=\"addDialogVisible\" width=\"50%\" @close=\"addDialogClosed\">\r\n      <!-- 内容主体区 -->\r\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"80px\">\r\n        <el-form-item label=\"角色名称\" prop=\"roleName\">\r\n          <el-input v-model=\"addForm.roleName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色描述\" prop=\"roleDesc\">\r\n          <el-input v-model=\"addForm.roleDesc\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 底部区域 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addRole\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 修改角色的对话框 -->\r\n    <el-dialog title=\"修改角色\" :visible.sync=\"editDialogVisible\" width=\"50%\" @close=\"editDialogClosed\">\r\n      <el-form :model=\"editForm\" :rules=\"addFormRules\" ref=\"editFormRef\" label-width=\"80px\">\r\n        <el-form-item label=\"角色名称\" prop=\"roleName\">\r\n          <el-input v-model=\"editForm.roleName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色描述\" prop=\"roleDesc\">\r\n          <el-input v-model=\"editForm.roleDesc\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editRoleInfo\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      //所有角色列表数据\r\n      roleList: [],\r\n      //控制分配权限对话框的显示与隐藏\r\n      setRightDialogVisible: false,\r\n      //所有权限的数据\r\n      rightsList: [],\r\n      //树形控件的属性绑定对象\r\n      treeProps: {\r\n        label: 'authName',\r\n        children: 'children'\r\n      },\r\n      //默认选中的节点Id值数组\r\n      defKeys: [],\r\n      //当前即将分配权限的角色id\r\n      roleId: '',\r\n      //控制添加角色对话框的显示与隐藏\r\n      addDialogVisible: false,\r\n      //添加角色的表单数据\r\n      addForm: {\r\n        roleName: '',\r\n        roleDesc: '',\r\n      },\r\n      //添加表单验证规则对象\r\n      addFormRules: {\r\n        roleName: [{ required: true, message: '请输入角色名称', trigger: 'blur' },],\r\n      },\r\n      //控制修改角色对话框的显示与隐藏\r\n      editDialogVisible: false,\r\n      //查询到的角色信息\r\n      editForm: {},\r\n    }\r\n  },\r\n  created() {\r\n    this.getRoleList()\r\n  },\r\n  methods: {\r\n    //获取所有角色的列表\r\n    async getRoleList() {\r\n      const { data: res } = await this.$http.get('roles')\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('获取角色列表失败！')\r\n      }\r\n      this.roleList = res.data\r\n    },\r\n    //根据Id删除对应的权限\r\n    async removeRightById(role, rightId) {\r\n      const confirmResult = await this.$confirm('此操作将删除该权限，是否继续？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n      }).catch(err => err)\r\n      if (confirmResult !== 'confirm') {\r\n        return this.$message.info('取消了删除！')\r\n      }\r\n      const { data: res } = await this.$http.delete(`roles/${role.id}/rights/${rightId}`)\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('删除权限失败！')\r\n      }\r\n      role.children = res.data\r\n    },\r\n    //展示分配权限的对话框\r\n    async showSetRightDialog(role) {\r\n      this.roleId = role.id\r\n      //获取所有权限列表的数据\r\n      const { data: res } = await this.$http.get('rights/tree')\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('获取权限失败!')\r\n      }\r\n      //把获取到的数据保存到data中\r\n      this.rightsList = res.data\r\n      //递归获取三级节点的Id\r\n      this.getLeafKeys(role, this.defKeys)\r\n      this.setRightDialogVisible = true\r\n    },\r\n    //通过递归的形式，获取角色下所有三级权限的id，并保存到defKeys数组中\r\n    getLeafKeys(node, arr) {\r\n      //如果当前node节点不包含children属性，则是三级节点\r\n      if (!node.children) {\r\n        return arr.push(node.id)\r\n      }\r\n      node.children.forEach(item => this.getLeafKeys(item, arr))\r\n    },\r\n    //监听分配权限对话框的关闭事件\r\n    setRightDialogClosed() {\r\n      this.defKeys = []\r\n    },\r\n    //点击为角色分配权限\r\n    async allotRights() {\r\n      const keys = [\r\n        this.$refs.treeRef.getCheckedKeys(),\r\n        ...this.$refs.treeRef.getHalfCheckedKeys()]\r\n      const idStr = keys.join(',')\r\n      const { data: res } = await this.$http.post(`roles/${this.roleId}/rights`, { rids: idStr })\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('分配权限失败！')\r\n      }\r\n      this.$message.success('分配权限成功！')\r\n      this.getRoleList()\r\n      this.setRightDialogVisible = false\r\n    },\r\n    //监听添加角色对话框的关闭事件\r\n    addDialogClosed() {\r\n      this.$refs.addFormRef.resetFields()\r\n    },\r\n    //点击按钮，添加新角色\r\n    addRole() {\r\n      this.$refs.addFormRef.validate(async valid => {\r\n        if (!valid) return\r\n        //可以发起添加角色的网络请求\r\n        const { data: res } = await this.$http.post('roles', this.addForm)\r\n        if (res.meta.status !== 201) {\r\n          this.$message.error('添加角色失败！')\r\n        }\r\n        this.$message.success('添加角色成功！')\r\n        //隐藏添加角色的对话框\r\n        this.addDialogVisible = false\r\n        //重新获取角色列表数据\r\n        this.getRoleList()\r\n      })\r\n    },\r\n    //展示修改角色的对话框\r\n    async showEditDialog(id) {\r\n      const { data: res } = await this.$http.get('roles/' + id)\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('查询角色信息失败！')\r\n      }\r\n      this.editForm = res.data\r\n      this.editDialogVisible = true\r\n    },\r\n    //监听修改角色对话框的关闭事件\r\n    editDialogClosed() {\r\n      this.$refs.editFormRef.resetFields()\r\n    },\r\n    //修改角色信息并提交\r\n    editRoleInfo() {\r\n      this.$refs.editFormRef.validate(async valid => {\r\n        if (!valid) return\r\n        //发起修改角色信息的数据请求\r\n        const { data: res } = await this.$http.put('roles/' + this.editForm.roleId, { roleName: this.editForm.roleName, roleDesc: this.editForm.roleDesc })\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error('更新角色信息失败！')\r\n        }\r\n        //关闭对话框\r\n        this.editDialogVisible = false\r\n        //刷新数据列表\r\n        this.getRoleList()\r\n        //提示修改成功\r\n        this.$message.success('更新角色信息成功！')\r\n      })\r\n    },\r\n    //删除角色\r\n    async removeRoleById(id) {\r\n      //弹框询问角色是否删除数据\r\n      const confirmResult = await this.$confirm('此操作将删除该角色，是否继续', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).catch(err => err)\r\n      if (confirmResult !== 'confirm') {\r\n        return this.$message.info('已取消删除')\r\n      }\r\n      const { data: res } = await this.$http.delete('roles/' + id)\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('删除角色失败！')\r\n      }\r\n      this.$message.success('删除角色成功！')\r\n      this.getRoleList()\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.el-tag {\r\n  margin: 7px;\r\n}\r\n\r\n.bdtop {\r\n  border-top: 1px solid #eee;\r\n}\r\n\r\n.bdbottom {\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.vcenter {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Roles.vue?vue&type=template&id=1e7c7782&scoped=true&\"\nimport script from \"./Roles.vue?vue&type=script&lang=js&\"\nexport * from \"./Roles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Roles.vue?vue&type=style&index=0&id=1e7c7782&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e7c7782\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"用户管理\")]),_c('el-breadcrumb-item',[_vm._v(\"用户列表\")])],1),_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.getUserList},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getUserList},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"添加用户\")])],1)],1),_c('el-table',{attrs:{\"border\":\"\",\"stripe\":\"\",\"data\":_vm.userlist}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"姓名\",\"prop\":\"username\"}}),_c('el-table-column',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}}),_c('el-table-column',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}}),_c('el-table-column',{attrs:{\"label\":\"角色\",\"prop\":\"role_name\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\",\"prop\":\"mg_state\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{on:{\"change\":function($event){return _vm.userStateChanged(scope.row)}},model:{value:(scope.row.mg_state),callback:function ($$v) {_vm.$set(scope.row, \"mg_state\", $$v)},expression:\"scope.row.mg_state\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.id)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeUserById(scope.row.id)}}}),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"分配角色\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.setRole(scope.row)}}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[1, 2, 5, 10],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{model:{value:(_vm.addForm.password),callback:function ($$v) {_vm.$set(_vm.addForm, \"password\", $$v)},expression:\"addForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.addForm.email),callback:function ($$v) {_vm.$set(_vm.addForm, \"email\", $$v)},expression:\"addForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.addForm.mobile),callback:function ($$v) {_vm.$set(_vm.addForm, \"mobile\", $$v)},expression:\"addForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.addFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.username),callback:function ($$v) {_vm.$set(_vm.editForm, \"username\", $$v)},expression:\"editForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.editForm.email),callback:function ($$v) {_vm.$set(_vm.editForm, \"email\", $$v)},expression:\"editForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.editForm.mobile),callback:function ($$v) {_vm.$set(_vm.editForm, \"mobile\", $$v)},expression:\"editForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editUserInfo}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"分配角色\",\"visible\":_vm.setRoleDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.setRoleDialogVisible=$event},\"close\":_vm.setRoleDialogClosed}},[_c('div',[_c('p',[_vm._v(\"当前的用户：\"+_vm._s(_vm.userInfo.username))]),_c('p',[_vm._v(\"当前的角色：\"+_vm._s(_vm.userInfo.role_name))]),_c('p',[_vm._v(\"分配新角色： \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.selectedRoleId),callback:function ($$v) {_vm.selectedRoleId=$$v},expression:\"selectedRoleId\"}},_vm._l((_vm.rolesList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.roleName,\"value\":item.id}})}),1)],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRoleDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveRoleInfo}},[_vm._v(\"确 定\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 面包屑导航区域 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图区域 -->\r\n    <el-card>\r\n      <!-- 搜索与添加区域 -->\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\">\r\n          <el-input placeholder=\"请输入内容\" v-model=\"queryInfo.query\" clearable @clear=\"getUserList\">\r\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getUserList\"></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <el-button type=\"primary\" @click=\"addDialogVisible = true\">添加用户</el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <!-- 用户列表区域 -->\r\n      <el-table border stripe :data=\"userlist\">\r\n        <el-table-column type=\"index\"></el-table-column>\r\n        <el-table-column label=\"姓名\" prop=\"username\"></el-table-column>\r\n        <el-table-column label=\"邮箱\" prop=\"email\"></el-table-column>\r\n        <el-table-column label=\"电话\" prop=\"mobile\"></el-table-column>\r\n        <el-table-column label=\"角色\" prop=\"role_name\"></el-table-column>\r\n        <el-table-column label=\"状态\" prop=\"mg_state\">\r\n          <template slot-scope=\"scope\">\r\n            <el-switch v-model=\"scope.row.mg_state\" @change=\"userStateChanged(scope.row)\"></el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"180px\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 修改按钮 -->\r\n            <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"showEditDialog(scope.row.id)\"></el-button>\r\n            <!-- 删除按钮 -->\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removeUserById(scope.row.id)\"></el-button>\r\n            <!-- 分配角色按钮 -->\r\n            <el-tooltip effect=\"dark\" content=\"分配角色\" placement=\"top\" :enterable=\"false\">\r\n              <el-button type=\"warning\" icon=\"el-icon-setting\" size=\"mini\" @click=\"setRole(scope.row)\"></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分页区域 -->\r\n      <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryInfo.pagenum\" :page-sizes=\"[1, 2, 5, 10]\" :page-size=\"queryInfo.pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n      </el-pagination>\r\n    </el-card>\r\n    <!-- 添加用户的对话框 -->\r\n    <el-dialog title=\"添加用户\" :visible.sync=\"addDialogVisible\" width=\"50%\" @close=\"addDialogClosed\">\r\n      <!-- 内容主体区 -->\r\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"70px\">\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"addForm.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input v-model=\"addForm.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"addForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机\" prop=\"mobile\">\r\n          <el-input v-model=\"addForm.mobile\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 底部区域 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 修改用户的对话框 -->\r\n    <el-dialog title=\"修改用户\" :visible.sync=\"editDialogVisible\" width=\"50%\" @close=\"editDialogClosed\">\r\n      <el-form :model=\"editForm\" :rules=\"addFormRules\" ref=\"editFormRef\" label-width=\"70px\">\r\n        <el-form-item label=\"用户名\">\r\n          <el-input v-model=\"editForm.username\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"editForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机\" prop=\"mobile\">\r\n          <el-input v-model=\"editForm.mobile\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editUserInfo\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 分配角色对话框 -->\r\n    <el-dialog title=\"分配角色\" :visible.sync=\"setRoleDialogVisible\" width=\"50%\" @close=\"setRoleDialogClosed\">\r\n      <div>\r\n        <p>当前的用户：{{ userInfo.username }}</p>\r\n        <p>当前的角色：{{ userInfo.role_name }}</p>\r\n        <p>分配新角色：\r\n          <el-select v-model=\"selectedRoleId\" placeholder=\"请选择\">\r\n            <el-option v-for=\"item in rolesList\" :key=\"item.id\" :label=\"item.roleName\" :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </p>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"setRoleDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveRoleInfo\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    //验证邮箱的规则\r\n    var checkEmail = (rule, value, cb) => {\r\n      //验证邮箱的正则表达式\r\n      const regEmail = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n      if (regEmail.test(value)) {\r\n        //合法邮箱\r\n        return cb()\r\n      }\r\n      cb(new Error('请输入合法的邮箱'))\r\n    }\r\n    //验证手机号的规则\r\n    var checkMobile = (rule, value, cb) => {\r\n      //验证手机号的正则表达式\r\n      const regMobile = /^(?:(?:\\+|00)86)?1(?:(?:3[\\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\\d])|(?:9[1589]))\\d{8}$/\r\n      if (regMobile.test(value)) {\r\n        return cb()\r\n      }\r\n      cb(new Error('请输入合法的手机号'))\r\n    }\r\n    return {\r\n      //获取用户列表的参数对象\r\n      queryInfo: {\r\n        query: '',\r\n        pagenum: 1,\r\n        pagesize: 2\r\n      },\r\n      userlist: [],\r\n      total: 0,\r\n      //控制添加用户对话框的显示与隐藏\r\n      addDialogVisible: false,\r\n      //添加用户的表单数据\r\n      addForm: {\r\n        username: '',\r\n        password: '',\r\n        email: '',\r\n        mobile: '',\r\n      },\r\n      //添加表单的验证规则对象\r\n      addFormRules: {\r\n        username: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' }, { min: 3, max: 10, message: '用户名的长度在3~10之间', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' }, { min: 6, max: 15, message: '密码的长度在6~15之间', trigger: 'blur' }\r\n        ],\r\n        email: [\r\n          { required: true, message: '请输入邮箱', trigger: 'blur' }, { validator: checkEmail, trigger: 'blur' }\r\n        ],\r\n        mobile: [\r\n          { required: true, message: '请输入电话', trigger: 'blur' }, { validator: checkMobile, trigger: 'blur' }\r\n        ],\r\n      },\r\n      //控制修改用户对话框的显示与隐藏\r\n      editDialogVisible: false,\r\n      //查询到的用户信息\r\n      editForm: {},\r\n      //控制分配角色对话框的显示与隐藏\r\n      setRoleDialogVisible: false,\r\n      //需要被分配角色的用户信息\r\n      userInfo: {},\r\n      //所有角色的数据列表\r\n      rolesList: [],\r\n      //已选中的角色Id\r\n      selectedRoleId: '',\r\n    }\r\n  },\r\n  created() {\r\n    this.getUserList()\r\n  },\r\n  methods: {\r\n    async getUserList() {\r\n      const { data: res } = await this.$http.get('users', { params: this.queryInfo })\r\n      if (res.meta.status !== 200)\r\n        return this.$message.error('获取用户列表失败！')\r\n      this.userlist = res.data.users\r\n      this.total = res.data.total\r\n    },\r\n    //监听 pagesize改变的事件\r\n    handleSizeChange(newSize) {\r\n      this.queryInfo.pagesize = newSize\r\n      this.getUserList()\r\n    },\r\n    //监听页码值改变的事件\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pagenum = newPage\r\n      this.getUserList()\r\n    },\r\n    //监听switch开关状态的改变\r\n    async userStateChanged(userinfo) {\r\n      const { data: res } = await this.$http.put(`users/${userinfo.id}/state/${userinfo.mg_state}`)\r\n      if (res.meta.status !== 200) {\r\n        userinfo.mg_state = !userinfo.mg_state\r\n        return this.$message.error('更新用户状态失败')\r\n      }\r\n      this.$message.success('更新用户状态成功')\r\n    },\r\n    //监听添加用户对话框的关闭事件\r\n    addDialogClosed() {\r\n      this.$refs.addFormRef.resetFields()\r\n    },\r\n    //点击按钮，添加新用户\r\n    addUser() {\r\n      this.$refs.addFormRef.validate(async valid => {\r\n        if (!valid) return\r\n        //可以发起添加用户的网络请求\r\n        const { data: res } = await this.$http.post('users', this.addForm)\r\n        if (res.meta.status !== 201) {\r\n          this.$message.error('添加用户失败！')\r\n        }\r\n        this.$message.success('添加用户成功！')\r\n        //隐藏添加用户的对话框\r\n        this.addDialogVisible = false\r\n        //重新获取用户列表数据\r\n        this.getUserList()\r\n      })\r\n    },\r\n    //展示编辑用户的对话框\r\n    async showEditDialog(id) {\r\n      const { data: res } = await this.$http.get('users/' + id)\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('查询用户信息失败！')\r\n      }\r\n      this.editForm = res.data\r\n      this.editDialogVisible = true\r\n    },\r\n    //监听修改用户对话框的关闭事件\r\n    editDialogClosed() {\r\n      this.$refs.editFormRef.resetFields()\r\n    },\r\n    //修改用户信息并提交\r\n    editUserInfo() {\r\n      this.$refs.editFormRef.validate(async valid => {\r\n        if (!valid) return\r\n        //发起修改用户信息的数据请求\r\n        const { data: res } = await this.$http.put('users/' + this.editForm.id, { email: this.editForm.email, mobile: this.editForm.mobile })\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error('更新用户信息失败！')\r\n        }\r\n        //关闭对话框\r\n        this.editDialogVisible = false\r\n        //刷新数据列表\r\n        this.getUserList()\r\n        //提示修改成功\r\n        this.$message.success('更新用户信息成功！')\r\n      })\r\n    },\r\n    async removeUserById(id) {\r\n      //弹框询问用户是否删除数据\r\n      const confirmResult = await this.$confirm('此操作将删除该用户，是否继续', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).catch(err => err)\r\n      if (confirmResult !== 'confirm') {\r\n        return this.$message.info('已取消删除')\r\n      }\r\n      const { data: res } = await this.$http.delete('users/' + id)\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('删除用户失败！')\r\n      }\r\n      this.$message.success('删除用户成功！')\r\n      this.getUserList()\r\n    },\r\n    //展示分配角色的对话框\r\n    async setRole(userInfo) {\r\n      this.userInfo = userInfo\r\n      //在展示对话框之前，获取所有角色的列表\r\n      const { data: res } = await this.$http.get('roles')\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('获取角色列表失败！')\r\n      }\r\n      this.rolesList = res.data\r\n      this.setRoleDialogVisible = true\r\n    },\r\n    //单击按钮，分配角色\r\n    async saveRoleInfo() {\r\n      if (!this.selectedRoleId) {\r\n        return this.$message.error('请选择要分配的角色！')\r\n      }\r\n      const { data: res } = await this.$http.put(`users/${this.userInfo.id}/role`, {\r\n        rid: this.selectedRoleId\r\n      })\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('更新角色失败！')\r\n      }\r\n      this.$message.success('更新角色成功!')\r\n      this.getUserList()\r\n      this.setRoleDialogVisible = false\r\n    },\r\n    //监听分配角色对话框的关闭事件\r\n    setRoleDialogClosed() {\r\n      this.selectedRoleId = ''\r\n      this.userInfo = {}\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style></style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=38b19ad8&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","path","_v","rightsList","scopedSlots","_u","key","fn","scope","row","level","staticRenderFns","data","created","getRightsList","methods","res","$http","get","meta","status","$message","error","component","on","$event","addDialogVisible","roleList","_l","children","item1","i1","id","class","removeRightById","_s","authName","staticClass","item2","i2","item3","showEditDialog","removeRoleById","showSetRightDialog","setRightDialogVisible","setRightDialogClosed","ref","treeProps","defKeys","slot","allotRights","addDialogClosed","addForm","addFormRules","model","value","roleName","callback","$$v","$set","expression","roleDesc","addRole","editDialogVisible","editDialogClosed","editForm","editRoleInfo","label","roleId","required","message","trigger","getRoleList","role","rightId","confirmResult","$confirm","confirmButtonText","cancelButtonText","type","catch","err","info","delete","getLeafKeys","node","arr","push","forEach","item","keys","$refs","treeRef","getCheckedKeys","getHalfCheckedKeys","idStr","join","post","rids","success","addFormRef","resetFields","validate","valid","editFormRef","put","getUserList","queryInfo","query","userlist","userStateChanged","mg_state","removeUserById","setRole","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","username","password","email","mobile","addUser","editUserInfo","setRoleDialogVisible","setRoleDialogClosed","userInfo","role_name","selectedRoleId","rolesList","saveRoleInfo","checkEmail","rule","cb","regEmail","test","Error","checkMobile","regMobile","min","max","validator","params","users","newSize","newPage","userinfo","rid"],"sourceRoot":""}